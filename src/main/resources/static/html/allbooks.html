<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="applicable-device" content="pc">
    <title>全部作品—愛阅读</title>
    <meta property="qc:admins" content="13454603154561636375"/>
    <meta property="wb:webmaster" content="0e2d310a7690a84c"/>
    <link type="text/css" rel="stylesheet" href="../css/allbooks/allbooks1.css"/>
    <style>
        #m-login form[name=frmLogin] {
            display: none;
        }
    </style>
    <link type="text/css" rel="stylesheet" href="../css/allbooks/allbooks2.css"/>
    <link type="text/css" rel="stylesheet" href="../css/allbooks/allbooks3.css"/>
    <link type="text/css" rel="stylesheet" href="../css/topcss/top1.css"/>

    <script type="text/javascript">
    </script>

    <script src="../js/topjs/html5shiv.js"></script>
    <script type="text/javascript" src="../js/topjs/libs.js"></script>
    <script src="../js/topjs/ursLogin.js"></script>
    <script src="../js/topjs/components.js"></script>
    <script src="../js/topjs/index.bundle.js"></script>

    <style>
        .g-bdw {
            margin-bottom: 40px;
        }
    </style>
</head>

<body id="page-163-com" class="page-originalCategory g-gf">
<noscript><a href="#">请使用支持脚本的浏览器！</a></noscript>
<div style="display: none;"><input type="password"/></div>
<div class="g-doc">
    <!-- 头部导航 -->
    <div class="g-hdw">
        <div id="J_Header" class="g-hd ">
            <div class="m-topbar">
                <div class="inner f-cb" data-reactid=".3">
                    <div data-reactid=".3.0">
                        <ul class="sns f-cb" data-reactid=".3.0.0">
                            <li data-reactid=".3.0.0.0"><a href="top.html" title="read"
                                                           data-reactid=".3.0.0.0.0">爱阅读</a></li>
                            <li data-reactid=".3.0.0.1"><span class="sep" data-reactid=".3.0.0.1.0">|</span></li>
                            <li data-reactid=".3.0.0.2"><a href="" title="全部作品" data-reactid=".3.0.0.2.0">全部作品</a>
                            </li>
                            <li data-reactid=".3.0.0.5"><span class="sep" data-reactid=".3.0.0.5.0">|</span></li>
                            <li data-reactid=".3.0.0.6"><a href="" title="从电脑上导入书籍"
                                                           data-reactid=".3.0.0.6.0">从电脑上导入书籍</a></li>
                            <li data-reactid=".3.0.0.7"><span class="sep" data-reactid=".3.0.0.7.0">|</span></li>
                            <li data-reactid=".3.0.0.8"><a id="gongzhonghao" title="公众号"
                                                           data-reactid=".3.0.0.8.0">公众号</a></li>
                            <li data-reactid=".3.0.0.9"><span class="sep" data-reactid=".3.0.0.9.0">|</span></li>
                            <li data-reactid=".3.0.0.a"><a href="" title="渠道推广平台"
                                                           target="_blank" data-reactid=".3.0.0.a.0">渠道推广平台</a></li>
                        </ul>
                        <div class="m-codelayer" style="display: none; left: 200px;" data-reactid=".3.0.1"><img
                                src="../images/topimages/weixin.png"
                                data-reactid=".3.0.1.0"></div>
                    </div>
                    <div data-reactid=".3.1">
                        <div class="ulink j-ulink" data-reactid=".3.1.0"><a class="userself" target="_blank" title="登录"
                                                                            data-reactid=".3.1.0.0"
                                                                            href="login.html">登录</a><span
                                class="sep" data-reactid=".3.1.0.1">|</span><a target="_blank" title="注册"
                                                                               data-reactid=".3.1.0.2"
                                                                               href="zhuce.html">注册</a>
                        </div>
                        <noscript data-reactid=".3.1.1"></noscript>
                    </div>
                </div>
            </div>
            <div class="m-headertop">
                <div class="inner">
                    <h1 class="m-logo">
                        <a href="top.html">i阅读</a></h1>
                    <div class="m-sch">
                    </div>
                    <!--                    搜索-->

                    <div id="first_2_3_1">
                        <input name="key" type="text" style="width: 425px; height: 26px" id="i1">
                        <input name="find" type="button" value=" " style="width: 58px; height: 34px" id="i2">
                    </div>

                    <div class="m-clouds">
                        <a class="m-cloudsj" target="_blank">我的书架</a>
                    </div>
                </div>
            </div>
            <div class="m-headerbottom">
                <div class="inner">
                    <ul class="m-mianlist">
                        <li><a class="" href="top.html">首页</a></li>
                        <li><a class="crt" href="">全部作品</a></li>
                        <li><a class="" href="ranklist.html">排行榜</a></li>
                        <li class="fr"><a href=""><b class="icon-recharge"></b>充值</a></li>
                        <li class="fr"><a class="authorcontainer"><b class="icon-open"></b>作者中心</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>    <!-- 主题内容 -->

    <div class="g-bdw g-bdw-1">
        <div class="g-bd yd-grid2col-page">
            <div class="m-breadcrumbs">当前位置：
                <a href="">全部作品</a> &gt; <span class="sep"></span>
            </div>
            <div class="g-bdc yd-original-page">
                <div class="g-sd" data-spy="affix" data-offset-top="187">
                    <div class="widget widget-theme-original ">
                        <div class="widget-header">
                            <div class="widget-title grad-1">
                                <a class="inner" href="">全部书库</a>
                            </div>
                        </div>
                        <div class="widget-content ">
                            <ul>
                                <div v-for="(types,index1) in fathertypes">
                                    <li class="" v-for="(type,index2) in types.secondSelect">
                                        <a @click="select(type.booktypeId, type.booktypeName)">{{type.booktypeName}}</a>
                                    </li>
                                </div>
                            </ul>
                        </div>
                    </div>

                </div>
                <div class="g-mn">
                    <div class="g-mnc">
                        <div class="yd-original-store-filter-container yd-store-filter-container ">
                            <dl class="dl-horizontal">
                                <dt>付费性质：</dt>
                                <dd>
                                    <ul class="list-inline">
                                        <li class="active"><a>全部</a></li>
                                        <li><a>免费作品</a></li>
                                        <li><a>付费作品</a></li>
                                    </ul>
                                </dd>
                                <dt>写作进度：</dt>
                                <dd>
                                    <ul class="list-inline">
                                        <li class="active"><a>全部</a></li>
                                        <li><a>连载中</a></li>
                                        <li><a>已完结</a></li>
                                    </ul>
                                </dd>
                                <dt>作品字数：</dt>
                                <dd>
                                    <ul class="list-inline">
                                        <li class="active"><a>全部</a></li>
                                        <li><a>30万字以下</a></li>
                                        <li><a>30-50万字</a></li>
                                        <li><a>50-100万字</a></li>
                                        <li><a>100万字以上</a></li>
                                    </ul>
                                </dd>
                                <dt>排序方式：</dt>
                                <dd class="last">
                                    <ul class="list-inline">
                                        <li class="active"><a>最热</a></li>
                                    </ul>
                                </dd>
                            </dl>
                        </div>
                        <div class="yd-store-content-container">
                            <table class="yd-table yd-table-striped yd-original-table yd-original-store-table ">
                                <thead>
                                <tr class="grad-1">
                                    <th width="12%" style="text-align: center">序号</th>
                                    <th width="42%">书名/最新章节</th>
                                    <th width="12%" style="text-align: center">作者</th>
                                    <th width="16%" style="text-align: center">字数</th>
                                    <th width="18%" style="text-align: center">更新时间</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr v-for="(book, index) in books.list" :class="{'even':index%2 == 1}"
                                    :class="{'odd':index%2 != 1}">
                                    <td style="text-align: center"><span class="serial-number">{{index + 1}}</span>
                                    </td>
                                    <td>
                                        <div class="book-name"><a @click="bookdetail(book.bookId)" target="_blank">{{book.bookName}}</a>
                                        </div>
                                        <div class="book-newest-chapter">
                                            第{{book.chapterSet[0].chapterSort}}章　{{book.chapterSet[0].chapterName}}
                                        </div>
                                    </td>
                                    <td style="text-align: center">{{book.author.authorName}}</td>
                                    <td style="text-align: center">{{book.bookWord}}万</td>
                                    <td style="text-align: center">{{book.chapterSet[0].chapterDate}}</td>
                                </tr>
                                </tbody>
                            </table>

                            <div class="m-page m-page-b">
                                <a class="go go-n" v-if="current != 1" @click="change(1)">首页</a>
                                <a class="go go-n" v-if="current != 1" @click="change(current - 1)">上一页</a>
                                <span class="nums">
                                    <a v-for="index in books.pages" :class="{'j-crt':current==index}"
                                       @click="change(index)">{{index}}</a>
                                </span>
                                <a class="go go-n" v-if="current !=  books.pages" @click="change(current + 1)">下一页</a>
                                <a class="go go-n" v-if="current !=  books.pages" @click="change(books.pages)">尾页</a>
                                <input name="page" type="number" v-model="input" style="width: 40px">
                                <a class="go go-n" @click="change(input)">跳转</a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
    </script>

    <!-- 尾部导航 -->
    <div class="g-ftw">
        <div class="g-ft" class="f-cb">
            <div class="m-foot">
                <p class="link">
                    <a href="http://www.163.com" target="_blank">i首页</a><span class="sep">|</span>
                    <a href="http://gb.corp.163.com/gb/about/overview.html" target="_blank">公司简介</a><span
                        class="sep">|</span>
                    <a href="http://help.163.com/" target="_blank">客户服务</a><span class="sep">|</span>
                    <a href="http://corp.163.com/gb/legal/legal.html" target="_blank">相关法律</a><span class="sep">|</span>
                    <a href="http://sitemap.163.com/" target="_blank">网站导航</a><span class="sep">|</span>
                    <a id="J_Service" href="javascript:void(0);">客服电话</a><span class="sep">|</span>
                    <a href="/help" target="_blank">帮助中心</a><span class="sep">|</span>
                    <a href="http://open.yuedu.163.com/" target="_blank">作者中心</a>
                </p>
            </div>
            <div class="m-right"><p>网易公司版权所有&#169;1997-<span id="j-year">2017</span> &nbsp;&nbsp;网络出版服务许可证（总）网出证（粤）字第030号
                &nbsp;&nbsp;信息网络传播视听节目许可证号1908260 &nbsp;&nbsp;增值电信业务经营许可证 粤B2-20090191</p></div>
            <div class="m-share f-cb">
                <label>分享到：</label>
                <div class="share"><a href="javascript:;" class="s2 j-wxwx" data-type="xo">微信</a></div>
                <div class="share"><a href="javascript:;" class="s4 j-yxyx" data-type="xo">易信</a></div>
                <div class="share"><a id="_share_b_tsina"
                                      href="javascript:(function(){window.open('http://v.t.sina.com.cn/share/share.php?appkey=1560988037&url='+encodeURIComponent('https://yuedu.163.com/')+'&title='+encodeURIComponent('网易云阅读内容丰富、操作便捷，适合作为平时阅读、充电的软件工具，推荐大家都来下载！')+'&pic='+encodeURIComponent('https://yuedust.yuedu.126.net/images/weibo_v3.jpg?2_20120731162723'),'_blank');})()"
                                      class="s1">微博</a></div>
                <div class="share"><a
                        href="javascript:(function(){window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?site='+encodeURIComponent('网易云阅读官方网站')+'&url='+encodeURIComponent('https://yuedu.163.com/')+'&title='+encodeURIComponent('网易云阅读--随时随地，品质阅读')+'&pics='+encodeURIComponent('https://yuedust.yuedu.126.net/images/weibo_v3.jpg?3_20131202100833')+'&summary='+encodeURIComponent('网易云阅读内容丰富、操作便捷，适合作为平时阅读、充电的软件工具，推荐大家都来下载！'),'_blank');})()"
                        class="s3">QQ空间</a></div>
            </div>

        </div>
    </div>
</div>

<!-- 共用结构 -->
<!-- 右侧悬浮 -->
<div id="J_BonusPack"></div>
<div id="J_rightsidebar">
    <div data-reactid=".0"><a href="" class="m-gotop" style="display: block; right: 0px;" title="回到顶部"
                              data-reactid=".0.0"></a>
        <div data-reactid=".0.1"><a class="m-qr" target="_blank" href="/download?act=rdpages_20130925_02"
                                    style="display:none;" data-reactid=".0.1.0"><img
                src="https://yuedu.163.com/images/down/QR_All.png" data-reactid=".0.1.0.0"></a>
            <div class="m-qr-icon" href="javascript:;" style="display:block;right:0px;" data-reactid=".0.1.1"><a
                    class="m-qr-hover" href="/download?act=rdpages_20130925_02" style="display: none; right: 50px;"
                    data-reactid=".0.1.1.0"><img src="https://yuedu.163.com/images/down/QR_All.png"
                                                 data-reactid=".0.1.1.0.0"></a></div>
        </div>
        <a href="/report.do" target="_blank" style="right:0px;" title="举报中心" class="m-report" data-reactid=".0.2"></a>
    </div>
</div>
<div class="m-mask" style="z-index: 8000"></div>
<div class="m-bonus-success"></div>


<input id="J_IFIE6" type="hidden" value="no"/>
<div class="m-mask f-dn"></div>
<script src="../js/topjs/jquery-3.4.1.js"></script>
<script src="../js/topjs/vue.min.js"></script>
<script type="text/javascript">

    var factor = new Object();

    factor.bookTypeId = null;
    factor.bookFee = null;
    factor.bookFlag = null;
    factor.bookWord = null;
    factor.pageNum = 1;

    var authorId;
    var userId;
    var userName;
    $(function () {
        userName = sessionStorage.getItem("userName");
        if(userName != undefined){
            $(".userself").text(userName)
            $(".userself").siblings().remove()
            $(".userself").attr("href","personal.html")
        }
    })

    var mv1 = new Vue({
        el: '.widget-content',
        data: {fathertypes: {}},
        created: function () {
            factor.bookTypeId = sessionStorage.getItem("booktypeId");
            if(factor.bookTypeId != null){
                sessionStorage.removeItem("booktypeId");
                var name = sessionStorage.getItem("booktypeName");
                sessionStorage.removeItem("booktypeName")
                $(".m-breadcrumbs span").text(name);
            }
            $.ajax({
                url: "http://localhost:8080/getAllType",
                type: "post",
                data: {},
                datatype: "json",
                success: function (data) {
                    mv1.fathertypes = data;
                }
            })
        },
        methods: {
            select: function (i, name) {
                factor.bookTypeId = i;
                $(".m-breadcrumbs span").text(name);
                $.ajax({
                    url: "http://localhost:8080/getBooksByType",
                    type: "post",
                    data: JSON.stringify(factor),
                    datatype: "json",
                    contentType: 'application/json;charset=UTF-8',
                    success: function (data) {
                        for (var i = 0; i < data.list.length; i++) {
                            data.list[i].chapterSet[0].chapterDate = data.list[i].chapterSet[0].chapterDate.substring(5, 10) + " " + data.list[i].chapterSet[0].chapterDate.substring(11, 19);
                        }
                        mv2.books = data;
                    }
                })
            }
        }
    })

    $(".list-inline li").click(function () {
        $(this).siblings().removeClass();
        $(this).addClass("active");
        if ($(this).text() == "免费作品") {
            factor.bookFee = 0;
        } else if ($(this).text() == "付费作品") {
            factor.bookFee = 1;
        } else if ($(this).text() == "连载中") {
            factor.bookFlag = 0;
        } else if ($(this).text() == "已完结") {
            factor.bookFlag = 1;
        } else if ($(this).text() == "30万字以下") {
            factor.bookWord = 30;
        } else if ($(this).text() == "30-50万字") {
            factor.bookWord = 40;
        } else if ($(this).text() == "50-100万字") {
            factor.bookWord = 60;
        } else if ($(this).text() == "100万字以上") {
            factor.bookWord = 110;
        } else if ($(this).text() == "全部") {
            if ($(this).siblings().eq(0).text() == "免费作品") {
                factor.bookFee = null;
            } else if ($(this).siblings().eq(0).text() == "连载中") {
                factor.bookFlag = null;
            } else if ($(this).siblings().eq(0).text() == "30万字以下") {
                factor.bookWord = null;
            }
        }
        $.ajax({
            url: "http://localhost:8080/getBooksByType",
            type: "post",
            data: JSON.stringify(factor),
            datatype: "json",
            contentType: 'application/json;charset=UTF-8',
            success: function (data) {
                for (var i = 0; i < data.list.length; i++) {
                    data.list[i].chapterSet[0].chapterDate = data.list[i].chapterSet[0].chapterDate.substring(5, 10) + " " + data.list[i].chapterSet[0].chapterDate.substring(11, 19);
                }
                mv2.books = data;
            }
        })
    })


    var mv2 = new Vue({
        el: '.yd-store-content-container',
        data: {
            books: {},
            current: 1,
            input: 1
        },
        created: function () {
            $.ajax({
                url: "http://localhost:8080/getBooksByType",
                type: "post",
                data: JSON.stringify(factor),
                datatype: "json",
                contentType: 'application/json;charset=UTF-8',
                success: function (data) {
                    for (var i = 0; i < data.list.length; i++) {
                        data.list[i].chapterSet[0].chapterDate = data.list[i].chapterSet[0].chapterDate.substring(5, 10) + " " + data.list[i].chapterSet[0].chapterDate.substring(11, 19);
                    }
                    mv2.books = data;
                }
            })
        }, methods: {
            change: function (i) {
                if (i <= this.books.pages && i >= 1) {
                    this.current = i;
                } else if (i < 1) {
                    this.current = 1;
                } else {
                    this.current = this.books.pages;
                }
                if (this.input < 1) {
                    this.input = 1;
                } else if (this.input > this.books.pages) {
                    this.input = this.books.pages;
                }
                factor.pageNum = this.current;
                $.ajax({
                    url: "http://localhost:8080/getBooksByType",
                    type: "post",
                    data: JSON.stringify(factor),
                    datatype: "json",
                    contentType: 'application/json;charset=UTF-8',
                    success: function (data) {
                        for (var i = 0; i < data.list.length; i++) {
                            data.list[i].chapterSet[0].chapterDate = data.list[i].chapterSet[0].chapterDate.substring(5, 10) + " " + data.list[i].chapterSet[0].chapterDate.substring(11, 19);
                        }
                        mv2.books = data;
                    }
                })
            },
            bookdetail: function (i) {
                sessionStorage.setItem("bookId", i);
                window.location.href = "bookdetail.html";
            }
        }
    })

    $("#gongzhonghao").hover(function () {
        $(".m-codelayer").css("display", "block")
    }, function () {
        $(".m-codelayer").css("display", "none")
    })

    $("input[name='find']").click(function () {
        var key = $("input[name='key']").val();
        if(key != "" && key !="输入不能为空！"){
            sessionStorage.setItem("key",key);
            window.location.href="search.html";
        }else{
            $("input[name='key']").val("输入不能为空！");
        }
    })

    $(".m-cloudsj").click(function () {
        userId = sessionStorage.getItem("userId");
        if(userId == undefined){
            window.location.href = "login.html";
        }else{
            window.location.href = "bookshelf.html";
        }
    })

    $(".authorcontainer").click(function () {
        authorId = sessionStorage.getItem("authorId");
        if(authorId == undefined){
            window.location.href = "author_login.html";
        }else{
            window.location.href = "authormsg.html";
        }
    })

</script>
</body>
</html>
